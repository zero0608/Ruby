<% if @supplier.errors.any? %>
  <div class="alert alert-danger" role="alert">
    <% @supplier.errors.full_messages.each do |message| %>
      <%= message %><br>
    <% end %>
  </div>
<% end %>

<div class="row">
  <div class="col-6 mb-3">
    <%= f.label :name, "Name" %>
    <%= f.text_field :name, class: "form-control", required: true %>
  </div>
  <div class="w-100"></div>

  <% if params[:action] == "edit" %>
    <div class="col-12 mb-3">
      <span class="header2 mr-2">Users</span>
      <a href="<%= add_user_admin_supplier_path(@supplier) %>">
        <button class="btn btn-primary" type="button">
          <%= show_svg("plus.svg") %>
          Add User
        </button>
      </a>
    </div>

    <div class="col-12 mb-3">
      <div class="table-responsive">
        <table class="table table-borderless table-hover">
          <thead>
            <tr>
              <th style="width: 40%">Name</th>
              <th style="width: 40%">Email</th>
              <th style="width: 20%">Action</th>
            </tr>
          </thead>
          <tbody>
            <% @supplier.users.each do |user|%>
              <tr>
                <td><%= user&.full_name %></td>
                <td><%= user&.email %></td>
                <td>
                  <a href="<%= change_password_admin_user_path(user) %>" class="mr-4">
                    Reset Password
                  </a>
                  <a href="<%= edit_admin_user_path(user) %>" class="mr-4">
                    <%= show_svg("recent_activity.svg") %>
                  </a>
                  <a href="<%= admin_user_path(user) %>" method="delete" data-confirm="Are you sure you want to delete this user?">
                    <%= show_svg("close.svg") %>
                  </a>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  <% end %>
  <div class="col-12 mb-3">
    <%= link_to "Cancel", admin_suppliers_path, class: "btn btn-secondary mr-4" %>
    <%= f.submit "Submit", class: "btn btn-primary" %>
  </div>
</div>