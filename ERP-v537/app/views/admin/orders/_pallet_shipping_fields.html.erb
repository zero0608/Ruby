<div class="col-12 mb-3">
  <span class="header2 mr-2" style="vertical-align: middle">
    <% if ff.object.pallet_type == nil %>
      Pallet <%= ff.index + 1 %>
    <% else %>
      <% if ff.object.shipping_detail.pallet_shippings.count == 1 && ff.object.pallet_type == "loose_box" %>
        Loose Box
      <% else %>
        <%= ff.object.pallet_type.titleize %> <%= ff.index + 1 %>
      <% end %>
    <% end %>
  </span>
  <% if ff.object.pallet_type == "pallet" %>
    <%= ff.select :pallet_id, options_for_select(Pallet.all.map{ |p| [p.pallet_size, p.id] }, ff.object.pallet_id), { include_blank: true }, class: "form-control d-inline-block mx-4", style: "width: 25%", data: { reflex: "change->OrderReflex#update", user_id: current_user.id } %>
  <% end %>
  <span class="mr-2" style="vertical-align: middle">Auto Calc.</span>
  <%= ff.check_box :auto_calc, data: { reflex: "change->OrderReflex#update", user_id: current_user.id, reflex_dataset: "combined", switch: "blue"} %>
  <%= ff.label :auto_calc, "&nbsp;".html_safe, class: "mr-4" %>
  <% unless ff.object.shipping_detail.pallet_shippings.count == 1 && ff.object.pallet_type == "loose_box" %>
    <a data-reflex="click->OrderReflex#delete_shipping_pallet" data-id="<%= ff.object.id %>" data-user_id= "<%= current_user.id %>">
      <%= show_svg("delete.svg") %>
    </a>
  <% end %>
</div>
<div class="col-3 mb-3">
  <span>Length</span>
  <%= ff.text_field :length, placeholder: "in.", data: { reflex: "change->OrderReflex#update", user_id: current_user.id, reflex_dataset: "combined" }, class: "form-control", disabled: (true if ff.object.pallet_id.present? && ff.object.auto_calc) %>
</div>
<div class="col-3 mb-3">
  <span>Width</span>
  <%= ff.text_field :width, placeholder: "in.", data: { reflex: "change->OrderReflex#update", user_id: current_user.id, reflex_dataset: "combined" }, class: "form-control", disabled: (true if ff.object.pallet_id.present? && ff.object.auto_calc) %>
</div>
<div class="col-3 mb-3">
  <span>Height</span>
  <%= ff.text_field :height, placeholder: "in.", data: { reflex: "change->OrderReflex#update", user_id: current_user.id, reflex_dataset: "combined" }, class: "form-control", disabled: (true if ff.object.pallet_id.present? && ff.object.auto_calc) %>
</div>
<div class="col-3 mb-3">
  <span>Weight</span>
  <%= ff.text_field :weight, placeholder: "lb.", data: { reflex: "change->OrderReflex#update", user_id: current_user.id, reflex_dataset: "combined" }, class: "form-control", disabled: (true if ff.object.auto_calc) %>
</div>